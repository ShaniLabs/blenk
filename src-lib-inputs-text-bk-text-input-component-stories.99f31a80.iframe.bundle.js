"use strict";(self.webpackChunk_blenk_source=self.webpackChunk_blenk_source||[]).push([[178],{"./libs/ui/src/lib/inputs/text/bk-text-input.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Disabled:()=>Disabled,FullyInvalid:()=>FullyInvalid,Readonly:()=>Readonly,RequiredEmpty:()=>RequiredEmpty,WithCustomError:()=>WithCustomError,WithLabel:()=>WithLabel,__namedExportsOrder:()=>__namedExportsOrder,default:()=>bk_text_input_component_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");class BkTextInputContext{#initialValue;#value=(0,core.signal)("");#label=(0,core.signal)("");#dirty=(0,core.signal)(!1);#disabled=(0,core.signal)(!1);#required=(0,core.signal)(!1);#readonly=(0,core.signal)(!1);#errors=(0,core.signal)(null);#focused=(0,core.signal)(!1);#touched=(0,core.signal)(!1);#placeholder=(0,core.signal)(void 0);value=this.#value;label=this.#label;dirty=this.#dirty;disabled=this.#disabled;required=this.#required;readonly=this.#readonly;errors=this.#errors;focused=this.#focused;touched=this.#touched;placeholder=this.#placeholder;hasValue=(0,core.computed)((()=>this.#value().length>0));valid=(0,core.computed)((()=>null===this.#errors()));constructor(config){const initial=config?.initialValue??"";this.#initialValue=initial,this.#value.set(initial),config?.disabled&&this.#disabled.set(!0),config?.required&&this.#required.set(!0),config?.readonly&&this.#readonly.set(!0),config?.errors&&this.#errors.set(config.errors),config?.label&&this.#label.set(config.label),config?.placeholder&&this.#placeholder.set(config.placeholder)}setValue(value){this.#readonly()||(value!==this.#initialValue&&this.#dirty.set(!0),this.#value.set(value))}setDisabled(disabled){this.#disabled.set(disabled)}setReadonly(readonly){this.#readonly.set(readonly)}setRequired(required){this.#required.set(required)}setErrors(errors){this.#errors.set(errors)}setPlaceholder(placeholder){this.#placeholder.set(placeholder)}setLabel(label){this.#label.set(label)}reset(){this.#value.set(this.#initialValue),this.#dirty.set(!1),this.#touched.set(!1),this.#errors.set(null),this.#focused.set(!1)}focus(){this.#focused.set(!0)}blur(){this.#focused()&&(this.#focused.set(!1),this.#touched.set(!0))}}let BkTextInputDirective=class BkTextInputDirective{el;context=core.input.required({alias:"bkTextInput"});constructor(el){this.el=el,(0,core.effect)((()=>{const value=this.context().value();this.el.nativeElement.value!==value&&(this.el.nativeElement.value=value)}))}handleInput(event){const target=event.target;this.context().setValue(target.value)}static ctorParameters=()=>[{type:core.ElementRef}];static propDecorators={context:[{type:core.Input,args:[{isSignal:!0,alias:"bkTextInput",required:!0,transform:void 0}]}]}};BkTextInputDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[bkTextInput]",standalone:!0,host:{"[type]":"'text'","[attr.aria-disabled]":'context().disabled() ? "true" : null',"[attr.aria-readonly]":'context().readonly() ? "true" : null',"[attr.aria-invalid]":'!context().valid() ? "true" : null',"[required]":'context().required() ? "" : null',"[placeholder]":"context().placeholder()","[disabled]":"context().disabled()","[readonly]":"context().readonly()","(input)":"handleInput($event)","(focus)":"context().focus()","(blur)":"context().blur()"}}),(0,tslib_es6.Sn)("design:paramtypes",[core.ElementRef])],BkTextInputDirective);var Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject_ReplaySubject=function(_super){function ReplaySubject(_bufferSize,_windowTime,_timestampProvider){void 0===_bufferSize&&(_bufferSize=1/0),void 0===_windowTime&&(_windowTime=1/0),void 0===_timestampProvider&&(_timestampProvider=dateTimestampProvider);var _this=_super.call(this)||this;return _this._bufferSize=_bufferSize,_this._windowTime=_windowTime,_this._timestampProvider=_timestampProvider,_this._buffer=[],_this._infiniteTimeWindow=!0,_this._infiniteTimeWindow=_windowTime===1/0,_this._bufferSize=Math.max(1,_bufferSize),_this._windowTime=Math.max(1,_windowTime),_this}return(0,tslib_es6.C6)(ReplaySubject,_super),ReplaySubject.prototype.next=function(value){var _a=this,isStopped=_a.isStopped,_buffer=_a._buffer,_infiniteTimeWindow=_a._infiniteTimeWindow,_timestampProvider=_a._timestampProvider,_windowTime=_a._windowTime;isStopped||(_buffer.push(value),!_infiniteTimeWindow&&_buffer.push(_timestampProvider.now()+_windowTime)),this._trimBuffer(),_super.prototype.next.call(this,value)},ReplaySubject.prototype._subscribe=function(subscriber){this._throwIfClosed(),this._trimBuffer();for(var subscription=this._innerSubscribe(subscriber),_infiniteTimeWindow=this._infiniteTimeWindow,copy=this._buffer.slice(),i=0;i<copy.length&&!subscriber.closed;i+=_infiniteTimeWindow?1:2)subscriber.next(copy[i]);return this._checkFinalizedStatuses(subscriber),subscription},ReplaySubject.prototype._trimBuffer=function(){var _bufferSize=this._bufferSize,_timestampProvider=this._timestampProvider,_buffer=this._buffer,_infiniteTimeWindow=this._infiniteTimeWindow,adjustedBufferSize=(_infiniteTimeWindow?1:2)*_bufferSize;if(_bufferSize<1/0&&adjustedBufferSize<_buffer.length&&_buffer.splice(0,_buffer.length-adjustedBufferSize),!_infiniteTimeWindow){for(var now=_timestampProvider.now(),last=0,i=1;i<_buffer.length&&_buffer[i]<=now;i+=2)last=i;last&&_buffer.splice(0,last+1)}},ReplaySubject}(Subject.B);function toObservable(source,options){!options?.injector&&(0,core.assertInInjectionContext)(toObservable);const injector=options?.injector??(0,core.inject)(core.Injector),subject=new ReplaySubject_ReplaySubject(1),watcher=(0,core.effect)((()=>{let value;try{value=source()}catch(err){return void(0,core.untracked)((()=>subject.error(err)))}(0,core.untracked)((()=>subject.next(value)))}),{injector,manualCleanup:!0});return injector.get(core.DestroyRef).onDestroy((()=>{watcher.destroy(),subject.complete()})),subject.asObservable()}var common_module_BukMeiI7=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-BukMeiI7.mjs");let StoryBkTextInputWrapperComponent=class StoryBkTextInputWrapperComponent{value="";disabled=!1;readonly=!1;required=!1;errors=null;placeholder="";label="";context=function injectBkTextInput(config){return new BkTextInputContext(config)}();focus$=toObservable(this.context.focused);touched$=toObservable(this.context.touched);ngOnChanges(changes){changes.value&&this.context.setValue(this.value),changes.disabled&&this.context.setDisabled(this.disabled),changes.readonly&&this.context.setReadonly(this.readonly),changes.required&&this.context.setRequired(this.required),changes.placeholder&&this.context.setPlaceholder(this.placeholder),changes.label&&this.context.setLabel(this.label),changes.errors&&this.context.setErrors(this.errors)}static propDecorators={value:[{type:core.Input}],disabled:[{type:core.Input}],readonly:[{type:core.Input}],required:[{type:core.Input}],errors:[{type:core.Input}],placeholder:[{type:core.Input}],label:[{type:core.Input}]}};StoryBkTextInputWrapperComponent=(0,tslib_es6.Cg)([(0,core.Component)({standalone:!0,selector:"bk-story-text-input-wrapper",imports:[BkTextInputDirective,common_module_BukMeiI7.TG],template:'\n        <div class="flex flex-col gap-3 w-full max-w-md p-6 border rounded-lg shadow-sm bg-white">\n            <label for="textInput" class="font-medium text-sm text-gray-800">{{ context.label() }}</label>\n\n            <input\n                    name="textInput"\n                    type="text"\n                    class="border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 read-only:bg-gray-50"\n                    [bkTextInput]="context"\n            />\n\n            <div class="text-xs text-gray-500">\n                <div><strong>Value:</strong> {{ context.value() }}</div>\n                <div><strong>Dirty:</strong> {{ context.dirty() }}</div>\n                <div><strong>Touched:</strong> {{ context.touched() }}</div>\n                <div><strong>Focused:</strong> {{ context.focused() }}</div>\n                <div><strong>Valid:</strong> {{ context.valid() }}</div>\n                <div><strong>Has Value:</strong> {{ context.hasValue() }}</div>\n                <div><strong>Disabled:</strong> {{ context.disabled() }}</div>\n                <div><strong>Readonly:</strong> {{ context.readonly() }}</div>\n            </div>\n\n            @if (!context.valid() && context.touched()) {\n                <p class="text-sm text-red-500 mt-1">\n                    <strong>Error:</strong> {{ context.errors() | json }}\n                </p>\n            }\n\n            <pre class="bg-gray-50 border rounded p-3 text-xs mt-3 text-gray-700">{{\n                    {\n                        value: context.value(),\n                        dirty: context.dirty(),\n                        touched: context.touched(),\n                        focused: context.focused(),\n                        valid: context.valid(),\n                        hasValue: context.hasValue(),\n                        disabled: context.disabled(),\n                        readonly: context.readonly(),\n                        placeholder: context.placeholder(),\n                        label: context.label(),\n                        errors: context.errors()\n                    } | json\n                }}</pre>\n        </div>\n    '})],StoryBkTextInputWrapperComponent);const bk_text_input_component_stories={title:"Inputs/BkTextInput",component:StoryBkTextInputWrapperComponent,decorators:[(0,dist.moduleMetadata)({imports:[StoryBkTextInputWrapperComponent]})],argTypes:{value:{control:"text"},disabled:{control:"boolean"},readonly:{control:"boolean"},required:{control:"boolean"},placeholder:{control:"text"},label:{control:"text"},errors:{control:"object"}}},Template=args=>({props:args}),Default=Template.bind({});Default.args={value:"Hello",placeholder:"Type here..."};const WithLabel=Template.bind({});WithLabel.args={label:"Username",value:""};const Disabled=Template.bind({});Disabled.args={value:"Disabled input",disabled:!0,label:"Disabled Field"};const Readonly=Template.bind({});Readonly.args={value:"Readonly input",readonly:!0,label:"Readonly Field"};const RequiredEmpty=Template.bind({});RequiredEmpty.args={value:"",required:!0,label:"Required Field",placeholder:"Required field"};const WithCustomError=Template.bind({});WithCustomError.args={value:"Invalid value",errors:{custom:"This value is invalid"},label:"Custom Error"};const FullyInvalid=Template.bind({});FullyInvalid.args={value:"",required:!0,readonly:!1,disabled:!1,errors:{required:"Required",pattern:"Must be alphanumeric"},label:"Fully Invalid Input"};const __namedExportsOrder=["Default","WithLabel","Disabled","Readonly","RequiredEmpty","WithCustomError","FullyInvalid"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"(args: StoryBkTextInputWrapperComponent) => ({\n  props: args\n})",...Default.parameters?.docs?.source}}},WithLabel.parameters={...WithLabel.parameters,docs:{...WithLabel.parameters?.docs,source:{originalSource:"(args: StoryBkTextInputWrapperComponent) => ({\n  props: args\n})",...WithLabel.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"(args: StoryBkTextInputWrapperComponent) => ({\n  props: args\n})",...Disabled.parameters?.docs?.source}}},Readonly.parameters={...Readonly.parameters,docs:{...Readonly.parameters?.docs,source:{originalSource:"(args: StoryBkTextInputWrapperComponent) => ({\n  props: args\n})",...Readonly.parameters?.docs?.source}}},RequiredEmpty.parameters={...RequiredEmpty.parameters,docs:{...RequiredEmpty.parameters?.docs,source:{originalSource:"(args: StoryBkTextInputWrapperComponent) => ({\n  props: args\n})",...RequiredEmpty.parameters?.docs?.source}}},WithCustomError.parameters={...WithCustomError.parameters,docs:{...WithCustomError.parameters?.docs,source:{originalSource:"(args: StoryBkTextInputWrapperComponent) => ({\n  props: args\n})",...WithCustomError.parameters?.docs?.source}}},FullyInvalid.parameters={...FullyInvalid.parameters,docs:{...FullyInvalid.parameters?.docs,source:{originalSource:"(args: StoryBkTextInputWrapperComponent) => ({\n  props: args\n})",...FullyInvalid.parameters?.docs?.source}}}},"./node_modules/@storybook/angular/dist/client/argsToTemplate.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsToTemplate=function argsToTemplate(args,options={}){const includeSet=options.include?new Set(options.include):null,excludeSet=options.exclude?new Set(options.exclude):null;return Object.entries(args).filter((([key])=>void 0!==args[key])).filter((([key])=>includeSet?includeSet.has(key):!excludeSet||!excludeSet.has(key))).map((([key,value])=>"function"==typeof value?`(${key})="${(0,ComputesTemplateFromComponent_1.formatPropInTemplate)(key)}($event)"`:`[${key}]="${(0,ComputesTemplateFromComponent_1.formatPropInTemplate)(key)}"`)).join(" ")};const ComputesTemplateFromComponent_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/ComputesTemplateFromComponent.js")},"./node_modules/@storybook/angular/dist/client/decorators.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.componentWrapperDecorator=exports.moduleMetadata=void 0,exports.applicationConfig=function applicationConfig(config){return storyFn=>{const story=storyFn(),storyConfig=story.applicationConfig;return{...story,applicationConfig:storyConfig||config?{...config,...storyConfig,providers:[...config?.providers||[],...storyConfig?.providers||[]]}:void 0}}};const ComputesTemplateFromComponent_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/ComputesTemplateFromComponent.js"),NgComponentAnalyzer_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/utils/NgComponentAnalyzer.js");exports.moduleMetadata=metadata=>storyFn=>{const story=storyFn(),storyMetadata=story.moduleMetadata||{};return metadata=metadata||{},{...story,moduleMetadata:{declarations:[...metadata.declarations||[],...storyMetadata.declarations||[]],entryComponents:[...metadata.entryComponents||[],...storyMetadata.entryComponents||[]],imports:[...metadata.imports||[],...storyMetadata.imports||[]],schemas:[...metadata.schemas||[],...storyMetadata.schemas||[]],providers:[...metadata.providers||[],...storyMetadata.providers||[]]}}};exports.componentWrapperDecorator=(element,props)=>(storyFn,storyContext)=>{const story=storyFn(),currentProps="function"==typeof props?props(storyContext):props,template=(0,NgComponentAnalyzer_1.isComponent)(element)?(0,ComputesTemplateFromComponent_1.computesTemplateFromComponent)(element,currentProps??{},story.template):element(story.template);return{...story,template,...currentProps||story.props?{props:{...currentProps,...story.props}}:{}}}},"./node_modules/@storybook/angular/dist/client/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsToTemplate=exports.applicationConfig=exports.componentWrapperDecorator=exports.moduleMetadata=void 0,__webpack_require__("./node_modules/@storybook/angular/dist/client/globals.js"),__exportStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/public-types.js"),exports),__exportStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/portable-stories.js"),exports);var decorators_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/decorators.js");Object.defineProperty(exports,"moduleMetadata",{enumerable:!0,get:function(){return decorators_1.moduleMetadata}}),Object.defineProperty(exports,"componentWrapperDecorator",{enumerable:!0,get:function(){return decorators_1.componentWrapperDecorator}}),Object.defineProperty(exports,"applicationConfig",{enumerable:!0,get:function(){return decorators_1.applicationConfig}});var argsToTemplate_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/argsToTemplate.js");Object.defineProperty(exports,"argsToTemplate",{enumerable:!0,get:function(){return argsToTemplate_1.argsToTemplate}})},"./node_modules/@storybook/angular/dist/client/portable-stories.js":function(__unused_webpack_module,exports,__webpack_require__){var ownKeys,__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||(ownKeys=function(o){return ownKeys=Object.getOwnPropertyNames||function(o){var ar=[];for(var k in o)Object.prototype.hasOwnProperty.call(o,k)&&(ar[ar.length]=k);return ar},ownKeys(o)},function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k=ownKeys(mod),i=0;i<k.length;i++)"default"!==k[i]&&__createBinding(result,mod,k[i]);return __setModuleDefault(result,mod),result});Object.defineProperty(exports,"__esModule",{value:!0}),exports.setProjectAnnotations=function setProjectAnnotations(projectAnnotations){return(0,preview_api_1.setDefaultProjectAnnotations)(INTERNAL_DEFAULT_PROJECT_ANNOTATIONS),(0,preview_api_1.setProjectAnnotations)(projectAnnotations)};const preview_api_1=__webpack_require__("storybook/internal/preview-api"),INTERNAL_DEFAULT_PROJECT_ANNOTATIONS=__importStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/render.js"))},"./node_modules/@storybook/angular/dist/client/public-types.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/@storybook/angular/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var _client_index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/client/index.js");__webpack_require__.o(_client_index__WEBPACK_IMPORTED_MODULE_0__,"moduleMetadata")&&__webpack_require__.d(__webpack_exports__,{moduleMetadata:function(){return _client_index__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata}})}}]);